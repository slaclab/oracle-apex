<?xml version = '1.0' encoding = 'UTF-8'?>
<TriggerOraclev10g class="oracle.dbtools.crest.model.design.storage.oracle.v10g.TriggerOraclev10g" name="SSRL_RSW_FORM_BIUDR" directorySegmentName="seg_0" id="C8FD44A6-CB8A-C88A-D8B4-12A16AFB63AF">
<sourceConnName>mcc_maint_SLACSTG</sourceConnName>
<sourceObjSchema>MCC_MAINT</sourceObjSchema>
<sourceObjName>SSRL_RSW_FORM_BIUDR</sourceObjName>
<createdBy>poonam</createdBy>
<createdTime>2023-04-19 21:57:29 UTC</createdTime>
<ownerDesignName>SSRL_RSWCF_DataModel</ownerDesignName>
<actions>INSERT, UPDATE, DELETE</actions>
<body>DECLARE&lt;br/&gt;	jn_operation	VARCHAR2(3);&lt;br/&gt;	l_current_user	varchar2(30) := lower(nvl(v(&apos;APP_USER&apos;),user));&lt;br/&gt;	c_proc		constant varchar2(100) := &apos;SSRL_RSW_FORM_BIUDR &apos;;&lt;br/&gt;BEGIN&lt;br/&gt;apps_util.utl.log_add(p_appl_id =&gt; 1, p_trans_id =&gt; null, p_message_type_id =&gt; 1 ,p_text =&gt; c_proc || &apos;begin&apos;);&lt;br/&gt;&lt;br/&gt;if inserting and :new.SSRL_FORM_ID is null then&lt;br/&gt;    select SSRL_RSW_FORM_seq.nextval into :new.SSRL_FORM_ID&lt;br/&gt;    from dual;&lt;br/&gt;end if;&lt;br/&gt;--&lt;br/&gt;if inserting and :new.created_by is null  then&lt;br/&gt;    :new.created_by := NVL(V(&apos;APP_USER&apos;),USER);&lt;br/&gt;    :new.created_date := sysdate;&lt;br/&gt;end if;&lt;br/&gt;--&lt;br/&gt;if updating then&lt;br/&gt;    :new.modified_by := NVL(V(&apos;APP_USER&apos;),USER);&lt;br/&gt;    :new.modified_date := sysdate;&lt;br/&gt;    :new.EMAIL_CHK := &apos;N&apos;;	&lt;br/&gt;    :new.email_rule := 0;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.s3_rad_id,0) != nvl(:old.s3_rad_id,0))&lt;br/&gt;    then&lt;br/&gt;         :new.s3_rad_date        := sysdate;&lt;br/&gt;         :new.s3_rad_modified_by := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 1;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.s3_sso_id,0) != nvl(:old.s3_sso_id,0))&lt;br/&gt;    then&lt;br/&gt;         :new.s3_sso_date        := sysdate;&lt;br/&gt;         :new.s3_sso_modified_by := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 2;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.s3_area_mgr_id,0) != nvl(:old.s3_area_mgr_id,0))&lt;br/&gt;    then&lt;br/&gt;         :new.s3_area_mgr_date        := sysdate;&lt;br/&gt;         :new.s3_area_mgr_modified_by := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 3;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    -- If Person Assigned is not the same as Person signing in, nullify the PR Signoff&lt;br/&gt;    IF :new.S3_TASK_PERSON_ACK_ID is not null then&lt;br/&gt;	IF :new.S3_TASK_PERSON_ACK_ID != :new.S1_TASK_PERSON_ID THEN&lt;br/&gt;	   :new.S3_TASK_PERSON_ACK_ID := NULL;&lt;br/&gt;           :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 4;&lt;br/&gt;	END IF;&lt;br/&gt;    END IF;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S3_TASK_PERSON_ACK_ID,0) != nvl(:old.S3_TASK_PERSON_ACK_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S3_TASK_PERSON_ACK_DATE        := sysdate;&lt;br/&gt;         :new.S3_TASK_PERSON_ACK_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt; 	 :new.email_rule := 5;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    -- we make all the 3 RP, SSO &amp; AM ids also NULL&lt;br/&gt;    -- Any change of Sec 1/2a/2b&lt;br/&gt;    IF	(:new.S1_TASK_PERSON_ID	!=	:old.S1_TASK_PERSON_ID	OR&lt;br/&gt;	:new.S1_AREA_ID		!=	:old.S1_AREA_ID		OR&lt;br/&gt;	:new.S1_START_TIME	!=	:old.S1_START_TIME	OR&lt;br/&gt;	:new.S1_DESCR		!=	:old.S1_DESCR		OR&lt;br/&gt;	:new.S2_DESCR_BEFORE	!=	:old.S2_DESCR_BEFORE	OR&lt;br/&gt;	:new.S2_DESCR_AFTER	!=	:old.S2_DESCR_AFTER)	&lt;br/&gt;    THEN&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 6;&lt;br/&gt;	 --&lt;br/&gt;	:new.S3_RAD_ID := NULL;&lt;br/&gt;--	:new.S3_RAD_DATE        := NULL;&lt;br/&gt;--	:new.S3_RAD_MODIFIED_BY := NULL;&lt;br/&gt;	:new.S3_SSO_ID := NULL;&lt;br/&gt;--	:new.S3_SSO_DATE        := NULL;&lt;br/&gt;--	:new.S3_SSO_MODIFIED_BY := NULL;&lt;br/&gt;	:new.S3_AREA_MGR_ID := NULL;&lt;br/&gt;--	:new.S3_AREA_MGR_DATE        := NULL;&lt;br/&gt;--	:new.S3_AREA_MGR_MODIFIED_BY := NULL;&lt;br/&gt;	:new.S3_TASK_PERSON_ACK_ID        := NULL;&lt;br/&gt;--	:new.S3_TASK_PERSON_ACK_DATE        := NULL;&lt;br/&gt;--	:new.S3_TASK_PERSON_ACK_MODIFIED_BY := NULL;&lt;br/&gt;    END IF; -- Any change of Sec 1/2a/2b&lt;br/&gt;&lt;br/&gt;      IF (:new.s3_rad_id is null and :old.s3_rad_id is not null) OR&lt;br/&gt;	 (:new.s3_sso_id is null and :old.s3_sso_id is not null) OR&lt;br/&gt;	 (:new.s3_area_mgr_id is null and :old.s3_area_mgr_id is not null)&lt;br/&gt;      THEN&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 6;&lt;br/&gt;	 --&lt;br/&gt;    END IF; -- Any change of Sec 3 signoffs&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S4_OPERATOR_ID,0) != nvl(:old.S4_OPERATOR_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S4_OPERATOR_DATE        := sysdate;&lt;br/&gt;         :new.S4_OPERATOR_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt; 	 :new.email_rule := 7;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S4_ASSIGN_WRKR_ID,0) != nvl(:old.S4_ASSIGN_WRKR_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S4_ASSIGN_WRKR_DATE        := sysdate;&lt;br/&gt;         :new.S4_ASSIGN_WRKR_MODIFIED_BY := l_current_user;&lt;br/&gt; 	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 7;&lt;br/&gt;--	 :new.email_rule := 8;&lt;br/&gt;   end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S4_WRKR_ID,0) != nvl(:old.S4_WRKR_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S4_WRKR_DATE        := sysdate;&lt;br/&gt;         :new.S4_WRKR_MODIFIED_BY := l_current_user;&lt;br/&gt; 	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 9;&lt;br/&gt;   end if;&lt;br/&gt;    --&lt;br/&gt;   --&lt;br/&gt;   if (nvl(:new.S5_TASK_PERSON_ACK_ID,0) != nvl(:old.S5_TASK_PERSON_ACK_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_TASK_PERSON_ACK_DATE        := sysdate;&lt;br/&gt;         :new.S5_TASK_PERSON_ACK_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 10;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_PPS_ID,0) != nvl(:old.S5_PPS_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_PPS_DATE        := sysdate;&lt;br/&gt;         :new.S5_PPS_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_SSO_ID,0) != nvl(:old.S5_SSO_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_SSO_DATE        := sysdate;&lt;br/&gt;         :new.S5_SSO_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.s5_rad_id,0) != nvl(:old.s5_rad_id,0))&lt;br/&gt;    then&lt;br/&gt;         :new.s5_rad_date        := sysdate;&lt;br/&gt;         :new.s5_rad_modified_by := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_OPERATOR_ID,0) != nvl(:old.S5_OPERATOR_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_OPERATOR_DATE        := sysdate;&lt;br/&gt;         :new.S5_OPERATOR_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_RPFO_ID,0) != nvl(:old.S5_RPFO_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_RPFO_DATE        := sysdate;&lt;br/&gt;         :new.S5_RPFO_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (:new.S5_OTHER1_CHK is null and :old.S5_OTHER1_CHK = &apos;Y&apos;) AND&lt;br/&gt;       (:new.S5_OTHER1_ID is NOT NULL) THEN&lt;br/&gt;       :new.S5_OTHER1_ID := NULL;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (:new.S5_OTHER2_CHK is null and :old.S5_OTHER2_CHK = &apos;Y&apos;) AND&lt;br/&gt;       (:new.S5_OTHER2_ID is NOT NULL) THEN&lt;br/&gt;       :new.S5_OTHER2_ID := NULL;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (:new.S5_OTHER3_CHK is null and :old.S5_OTHER3_CHK = &apos;Y&apos;) AND&lt;br/&gt;       (:new.S5_OTHER3_ID is NOT NULL) THEN&lt;br/&gt;       :new.S5_OTHER3_ID := NULL;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_OTHER1_ACK_ID,0) != nvl(:old.S5_OTHER1_ACK_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_OTHER1_ACK_DATE        := sysdate;&lt;br/&gt;         :new.S5_OTHER1_ACK_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_OTHER2_ACK_ID,0) != nvl(:old.S5_OTHER2_ACK_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_OTHER2_ACK_DATE        := sysdate;&lt;br/&gt;         :new.S5_OTHER2_ACK_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S5_OTHER3_ACK_ID,0) != nvl(:old.S5_OTHER3_ACK_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S5_OTHER3_ACK_DATE        := sysdate;&lt;br/&gt;         :new.S5_OTHER3_ACK_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 11;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;-- Any change of the Section 5 Checkboxes to Null&lt;br/&gt;    IF ( :new.S5_PPS_CHK is null and :old.S5_PPS_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_RPFO_CHK is null and :old.S5_RPFO_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_RAD_CHK is null and :old.S5_RAD_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_SSO_CHK is null and :old.S5_SSO_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_OPERATOR_CHK is null and :old.S5_OPERATOR_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_OTHER1_CHK is null and :old.S5_OTHER1_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_OTHER2_CHK is null and :old.S5_OTHER2_CHK = &apos;Y&apos;) OR&lt;br/&gt;	(:new.S5_OTHER3_CHK is null and :old.S5_OTHER3_CHK = &apos;Y&apos;) &lt;br/&gt;    THEN&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 6; &lt;br/&gt;	 --&lt;br/&gt;	:new.S3_RAD_ID := NULL;&lt;br/&gt;	:new.S3_SSO_ID := NULL;&lt;br/&gt;	:new.S3_AREA_MGR_ID := NULL;&lt;br/&gt;	:new.S3_TASK_PERSON_ACK_ID        := NULL;&lt;br/&gt;	--&lt;br/&gt;	:new.S4_OPERATOR_ID := NULL;&lt;br/&gt;	:new.S4_WRKR_ID := NULL;&lt;br/&gt;	:new.S4_ASSIGN_WRKR_ID := NULL;&lt;br/&gt;	--&lt;br/&gt;	:new.S5_TASK_PERSON_ACK_ID        := NULL;&lt;br/&gt;	:new.S5_PPS_ID        := NULL;&lt;br/&gt;	:new.S5_RAD_ID        := NULL;&lt;br/&gt;	:new.S5_SSO_ID        := NULL;&lt;br/&gt;	:new.S5_RPFO_ID        := NULL;&lt;br/&gt;	:new.S5_OPERATOR_ID        := NULL;&lt;br/&gt;	:new.S5_OTHER1_ACK_ID        := NULL;&lt;br/&gt;	:new.S5_OTHER2_ACK_ID        := NULL;&lt;br/&gt;	:new.S5_OTHER3_ACK_ID        := NULL;&lt;br/&gt;&lt;br/&gt;    END IF; -- Any change of the Section 5 Checkboxes to Null&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.s6_sso_id,0) != nvl(:old.s6_sso_id,0))&lt;br/&gt;    then&lt;br/&gt;         :new.s6_sso_date        := sysdate;&lt;br/&gt;         :new.s6_sso_modified_by := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 15;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (:old.S6_OPERATOR_ACK is null and :new.S6_OPERATOR_ACK = &apos;Y&apos;)&lt;br/&gt;    then&lt;br/&gt;         :new.S6_OPERATOR_ACK_DATE        := sysdate;&lt;br/&gt;         :new.S6_OPERATOR_ACK_MODIFIED_BY := l_current_user;&lt;br/&gt;--	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;--	 :new.email_rule := 16;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if (nvl(:new.S6_OPERATOR_ID,0) != nvl(:old.S6_OPERATOR_ID,0))&lt;br/&gt;    then&lt;br/&gt;         :new.S6_OPERATOR_DATE        := sysdate;&lt;br/&gt;         :new.S6_OPERATOR_MODIFIED_BY := l_current_user;&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 16;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if nvl(:new.drop_form_chk,&apos;N&apos;) != &apos;Y&apos; THEN&lt;br/&gt;	SSRL_RSW_GET_STATUS &lt;br/&gt;	(p_form_id		=&gt; :new.SSRL_FORM_ID&lt;br/&gt;	,p_s3_task_person_ack_id	=&gt; :new.S3_TASK_PERSON_ACK_ID&lt;br/&gt;	,p_s3_area_mgr_id	=&gt; :new.S3_AREA_MGR_ID&lt;br/&gt;	,p_s3_sso_id		=&gt; :new.S3_SSO_ID&lt;br/&gt;	,p_s3_rad_id		=&gt; :new.S3_RAD_ID&lt;br/&gt;	,p_s4_operator_id	=&gt; :new.S4_OPERATOR_ID&lt;br/&gt;	,p_s4_wrkr_id		=&gt; :new.S4_WRKR_ID&lt;br/&gt;	,p_s5_task_person_ack_id	=&gt; :new.S5_TASK_PERSON_ACK_ID&lt;br/&gt;	,p_s5_pps_id		=&gt; :new.S5_PPS_ID&lt;br/&gt;	,p_s5_rad_id		=&gt; :new.S5_RAD_ID&lt;br/&gt;	,p_s5_sso_id		=&gt; :new.S5_SSO_ID&lt;br/&gt;	,p_s5_operator_id	=&gt; :new.S5_OPERATOR_ID&lt;br/&gt;	,p_s5_rpfo_id		=&gt; :new.S5_RPFO_ID&lt;br/&gt;	,p_s5_other1_ack_id	=&gt; :new.S5_OTHER1_ACK_ID&lt;br/&gt;	,p_s5_other2_ack_id	=&gt; :new.S5_OTHER2_ACK_ID&lt;br/&gt;	,p_s5_other3_ack_id	=&gt; :new.S5_OTHER3_ACK_ID&lt;br/&gt;	,p_s6_sso_id		=&gt; :new.S6_SSO_ID&lt;br/&gt;	,p_s6_operator_id	=&gt; :new.S6_OPERATOR_ID&lt;br/&gt;	,p_s6_operator_ack	=&gt; :new.S6_OPERATOR_ACK&lt;br/&gt;	,p_s5_pps_chk		=&gt; :new.S5_PPS_CHK&lt;br/&gt;	,p_s5_rad_chk		=&gt; :new.S5_RAD_CHK&lt;br/&gt;	,p_s5_sso_chk		=&gt; :new.S5_SSO_CHK&lt;br/&gt;	,p_s5_operator_chk	=&gt; :new.S5_OPERATOR_CHK&lt;br/&gt;	,p_s5_rpfo_chk		=&gt; :new.S5_RPFO_CHK&lt;br/&gt;	,p_s5_other1_chk	=&gt; :new.S5_OTHER1_CHK&lt;br/&gt;	,p_s5_other1_id	        =&gt; :new.S5_OTHER1_ID&lt;br/&gt;	,p_s5_other2_chk	=&gt; :new.S5_OTHER2_CHK&lt;br/&gt;	,p_s5_other2_id	        =&gt; :new.S5_OTHER2_ID&lt;br/&gt;	,p_s5_other3_chk	=&gt; :new.S5_OTHER3_CHK&lt;br/&gt;	,p_s5_other3_id	        =&gt; :new.S5_OTHER3_ID&lt;br/&gt;	,p_form_status_id	=&gt; :new.FORM_STATUS_ID&lt;br/&gt;	);&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    -- Form Status = Work Approved (not yet Released) - Email &lt;br/&gt;    if :new.form_status_id = 2 and&lt;br/&gt;       :new.form_status_id != :old.form_status_id&lt;br/&gt;    then&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 20;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    -- Form Status = Work Released - Email &lt;br/&gt;    if :new.form_status_id = 3 and&lt;br/&gt;       :new.form_status_id != :old.form_status_id&lt;br/&gt;    then&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 21;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    -- Form Status = COMPLETE - Email &lt;br/&gt;    if :new.form_status_id = 4 and&lt;br/&gt;       :new.form_status_id != :old.form_status_id&lt;br/&gt;    then&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 22;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;     -- Form Status = CLOSED - Email &lt;br/&gt;   if :new.form_status_id = 6 and&lt;br/&gt;       :new.form_status_id != :old.form_status_id&lt;br/&gt;    then&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 23;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    -- Form Status = DROPPED - Email &lt;br/&gt;    if :new.form_status_id = 7 and&lt;br/&gt;       :new.form_status_id != :old.form_status_id&lt;br/&gt;    then&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 24;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;    if :new.SSRL_FORM_ID_TRANSFER_TO is not null and&lt;br/&gt;       :old.SSRL_FORM_ID_TRANSFER_TO is null&lt;br/&gt;    then&lt;br/&gt;         :new.form_status_id := 5; -- Transferred status&lt;br/&gt;	 :new.EMAIL_CHK := &apos;Y&apos;;	&lt;br/&gt;	 :new.email_rule := 19;&lt;br/&gt;    end if;&lt;br/&gt;    --&lt;br/&gt;end if; -- if updating&lt;br/&gt;apps_util.utl.log_add(p_appl_id =&gt; 1, p_trans_id =&gt; null, p_message_type_id =&gt; 1 ,p_text =&gt; c_proc || &apos;end&apos;);&lt;br/&gt;&lt;br/&gt;END;</body>
<triggerTime>BEFORE</triggerTime>
<owner>0FAEE865-89F5-2F3A-E8BE-340C84480319</owner>
<table>0258D8E6-B662-C15B-7C7E-483A9FE3EB96</table>
</TriggerOraclev10g>